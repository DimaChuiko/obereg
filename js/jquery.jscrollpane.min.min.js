!function(e){"function"==typeof define&&define.amd?define(["jquery"],e):"object"==typeof exports?module.exports=e(jQuery||require("jquery")):e(jQuery)}(function(Se){Se.fn.jScrollPane=function(o){function s(T,e){var C,S,x,D,B,H,P,z,A,W,Y,M,X,L,R,E,I,F,V,t,q,O,G,N,K,Q,U,$,J,Z,_,ee,te,oe,se=this,n=!0,r=!0,a=!1,l=!1,o=T.clone(!1,!1).empty(),ie=!1,ne=Se.fn.mwheelIntent?"mwheelIntent.jsp":"mousewheel.jsp",re=function(){0<C.resizeSensorDelay?setTimeout(function(){ae(C)},C.resizeSensorDelay):ae(C)};function ae(e){var t,o,s,i,n,r,a,l,c,p,u,d,f,h,g,j,v,m,w,y=!1,b=!1;if(C=e,void 0===S)n=T.scrollTop(),r=T.scrollLeft(),T.css({overflow:"hidden",padding:0}),x=T.innerWidth()+te,D=T.innerHeight(),T.width(x),S=Se('<div class="jspPane" />').css("padding",ee).append(T.children()),B=Se('<div class="jspContainer" />').css({width:x+"px",height:D+"px"}).append(S).appendTo(T);else{if(T.css("width",""),B.css({width:"auto",height:"auto"}),S.css("position","static"),a=T.innerWidth()+te,l=T.innerHeight(),S.css("position","absolute"),y=C.stickToBottom&&20<(p=P-D)&&p-Te()<10,b=C.stickToRight&&20<(c=H-x)&&c-ke()<10,i=a!==x||l!==D,x=a,D=l,B.css({width:x,height:D}),!i&&oe==H&&S.outerHeight()==P)return void T.width(x);oe=H,S.css("width",""),T.width(x),B.find(">.jspVerticalBar,>.jspHorizontalBar").remove().end()}function k(){var e=I,t=L;switch(v){case 40:se.scrollByY(C.keyboardSpeed,!1);break;case 38:se.scrollByY(-C.keyboardSpeed,!1);break;case 34:case 32:se.scrollByY(D*C.scrollPagePercent,!1);break;case 33:se.scrollByY(-D*C.scrollPagePercent,!1);break;case 39:se.scrollByX(C.keyboardSpeed,!1);break;case 37:se.scrollByX(-C.keyboardSpeed,!1)}return m=e!=I||t!=L}S.css("overflow","auto"),H=e.contentWidth?e.contentWidth:S[0].scrollWidth,P=S[0].scrollHeight,S.css("overflow",""),z=H/x,W=1<(A=P/D)||C.alwaysShowVScroll,(Y=1<z||C.alwaysShowHScroll)||W?(T.addClass("jspScrollable"),(t=C.maintainPosition&&(L||I))&&(o=ke(),s=Te()),W&&(B.append(Se('<div class="jspVerticalBar" />').append(Se('<div class="jspCap jspCapTop" />'),Se('<div class="jspTrack" />').append(Se('<div class="jspDrag" />').append(Se('<div class="jspDragTop" />'),Se('<div class="jspDragBottom" />'))),Se('<div class="jspCap jspCapBottom" />'))),F=B.find(">.jspVerticalBar"),V=F.find(">.jspTrack"),M=V.find(">.jspDrag"),C.showArrows&&(G=Se('<a class="jspArrow jspArrowUp" />').on("mousedown.jsp",de(0,-1)).on("click.jsp",Ce),N=Se('<a class="jspArrow jspArrowDown" />').on("mousedown.jsp",de(0,1)).on("click.jsp",Ce),C.arrowScrollOnHover&&(G.on("mouseover.jsp",de(0,-1,G)),N.on("mouseover.jsp",de(0,1,N))),ue(V,C.verticalArrowPositions,G,N)),q=D,B.find(">.jspVerticalBar>.jspCap:visible,>.jspVerticalBar>.jspArrow").each(function(){q-=Se(this).outerHeight()}),M.on("mouseenter",function(){M.addClass("jspHover")}).on("mouseleave",function(){M.removeClass("jspHover")}).on("mousedown.jsp",function(e){Se("html").on("dragstart.jsp selectstart.jsp",Ce),M.addClass("jspActive");var t=e.pageY-M.position().top;return Se("html").on("mousemove.jsp",function(e){ge(e.pageY-t,!1)}).on("mouseup.jsp mouseleave.jsp",he),!1}),ce()),Y&&(B.append(Se('<div class="jspHorizontalBar" />').append(Se('<div class="jspCap jspCapLeft" />'),Se('<div class="jspTrack" />').append(Se('<div class="jspDrag" />').append(Se('<div class="jspDragLeft" />'),Se('<div class="jspDragRight" />'))),Se('<div class="jspCap jspCapRight" />'))),K=B.find(">.jspHorizontalBar"),Q=K.find(">.jspTrack"),R=Q.find(">.jspDrag"),C.showArrows&&(J=Se('<a class="jspArrow jspArrowLeft" />').on("mousedown.jsp",de(-1,0)).on("click.jsp",Ce),Z=Se('<a class="jspArrow jspArrowRight" />').on("mousedown.jsp",de(1,0)).on("click.jsp",Ce),C.arrowScrollOnHover&&(J.on("mouseover.jsp",de(-1,0,J)),Z.on("mouseover.jsp",de(1,0,Z))),ue(Q,C.horizontalArrowPositions,J,Z)),R.on("mouseenter",function(){R.addClass("jspHover")}).on("mouseleave",function(){R.removeClass("jspHover")}).on("mousedown.jsp",function(e){Se("html").on("dragstart.jsp selectstart.jsp",Ce),R.addClass("jspActive");var t=e.pageX-R.position().left;return Se("html").on("mousemove.jsp",function(e){ve(e.pageX-t,!1)}).on("mouseup.jsp mouseleave.jsp",he),!1}),U=B.innerWidth(),pe()),function(){if(Y&&W){var e=Q.outerHeight(),t=V.outerWidth();q-=e,Se(K).find(">.jspCap:visible,>.jspArrow").each(function(){U+=Se(this).outerWidth()}),U-=t,D-=t,x-=e,Q.parent().append(Se('<div class="jspCorner" />').css("width",e+"px")),ce(),pe()}Y&&S.width(B.outerWidth()-te+"px"),P=S.outerHeight(),A=P/D,Y&&(($=Math.ceil(1/z*U))>C.horizontalDragMaxWidth?$=C.horizontalDragMaxWidth:$<C.horizontalDragMinWidth&&($=C.horizontalDragMinWidth),R.css("width",$+"px"),E=U-$,me(I)),W&&((O=Math.ceil(1/A*q))>C.verticalDragMaxHeight?O=C.verticalDragMaxHeight:O<C.verticalDragMinHeight&&(O=C.verticalDragMinHeight),M.css("height",O+"px"),X=q-O,je(L))}(),t&&(ye(b?H-x:o,!1),we(y?P-D:s,!1)),S.find(":input,a").off("focus.jsp").on("focus.jsp",function(e){be(e.target,!1)}),B.off(ne).on(ne,function(e,t,o,s){var i=I=I||0,n=L=L||0,r=e.deltaFactor||C.mouseWheelSpeed;return se.scrollBy(o*r,-s*r,!1),i==I&&n==L}),j=!1,B.off("touchstart.jsp touchmove.jsp touchend.jsp click.jsp-touchclick").on("touchstart.jsp",function(e){var t=e.originalEvent.touches[0];u=ke(),d=Te(),f=t.pageX,h=t.pageY,j=!(g=!1)}).on("touchmove.jsp",function(e){if(j){var t=e.originalEvent.touches[0],o=I,s=L;return se.scrollTo(u+f-t.pageX,d+h-t.pageY),g=g||5<Math.abs(f-t.pageX)||5<Math.abs(h-t.pageY),o==I&&s==L}}).on("touchend.jsp",function(e){j=!1}).on("click.jsp-touchclick",function(e){if(g)return g=!1}),C.enableKeyboardNavigation&&(w=[],Y&&w.push(K[0]),W&&w.push(F[0]),S.on("focus.jsp",function(){T.focus()}),T.attr("tabindex",0).off("keydown.jsp keypress.jsp").on("keydown.jsp",function(e){if(e.target===this||w.length&&Se(e.target).closest(w).length){var t=I,o=L;switch(e.keyCode){case 40:case 38:case 34:case 32:case 33:case 39:case 37:v=e.keyCode,k();break;case 35:we(P-D),v=null;break;case 36:we(0),v=null}return!(m=e.keyCode==v&&t!=I||o!=L)}}).on("keypress.jsp",function(e){if(e.keyCode==v&&k(),e.target===this||w.length&&Se(e.target).closest(w).length)return!m}),C.hideFocus?(T.css("outline","none"),"hideFocus"in B[0]&&T.attr("hideFocus",!0)):(T.css("outline",""),"hideFocus"in B[0]&&T.attr("hideFocus",!1))),C.clickOnTrack&&(fe(),W&&V.on("mousedown.jsp",function(i){if(void 0===i.originalTarget||i.originalTarget==i.currentTarget){var n,r=Se(this),e=r.offset(),a=i.pageY-e.top-L,l=!0,c=function(){var e=r.offset(),t=i.pageY-e.top-O/2,o=D*C.scrollPagePercent,s=X*o/(P-D);if(a<0)t<L-s?se.scrollByY(-o):ge(t);else{if(!(0<a))return void p();L+s<t?se.scrollByY(o):ge(t)}n=setTimeout(c,l?C.initialDelay:C.trackClickRepeatFreq),l=!1},p=function(){n&&clearTimeout(n),n=null,Se(document).off("mouseup.jsp",p)};return c(),Se(document).on("mouseup.jsp",p),!1}}),Y&&Q.on("mousedown.jsp",function(i){if(void 0===i.originalTarget||i.originalTarget==i.currentTarget){var n,r=Se(this),e=r.offset(),a=i.pageX-e.left-I,l=!0,c=function(){var e=r.offset(),t=i.pageX-e.left-$/2,o=x*C.scrollPagePercent,s=E*o/(H-x);if(a<0)t<I-s?se.scrollByX(-o):ve(t);else{if(!(0<a))return void p();I+s<t?se.scrollByX(o):ve(t)}n=setTimeout(c,l?C.initialDelay:C.trackClickRepeatFreq),l=!1},p=function(){n&&clearTimeout(n),n=null,Se(document).off("mouseup.jsp",p)};return c(),Se(document).on("mouseup.jsp",p),!1}})),function(){if(location.hash&&1<location.hash.length){var e,t,o=escape(location.hash.substr(1));try{e=Se("#"+o+', a[name="'+o+'"]')}catch(e){return}e.length&&S.find(o)&&(0===B.scrollTop()?t=setInterval(function(){0<B.scrollTop()&&(be(e,!0),Se(document).scrollTop(B.position().top),clearInterval(t))},50):(be(e,!0),Se(document).scrollTop(B.position().top)))}}(),C.hijackInternalLinks&&(Se(document.body).data("jspHijack")||(Se(document.body).data("jspHijack",!0),Se(document.body).delegate('a[href*="#"]',"click",function(e){var t,o,s,i,n,r=this.href.substr(0,this.href.indexOf("#")),a=location.href;if(-1!==location.href.indexOf("#")&&(a=location.href.substr(0,location.href.indexOf("#"))),r===a){t=escape(this.href.substr(this.href.indexOf("#")+1));try{o=Se("#"+t+', a[name="'+t+'"]')}catch(e){return}o.length&&((s=o.closest(".jspScrollable")).data("jsp").scrollToElement(o,!0),s[0].scrollIntoView&&(i=Se(window).scrollTop(),((n=o.offset().top)<i||n>i+Se(window).height())&&s[0].scrollIntoView()),e.preventDefault())}})))):(T.removeClass("jspScrollable"),S.css({top:0,left:0,width:B.width()-te}),B.off(ne),S.find(":input,a").off("focus.jsp"),T.attr("tabindex","-1").removeAttr("tabindex").off("keydown.jsp keypress.jsp"),S.off(".jsp"),fe()),C.resizeSensor||!C.autoReinitialise||_?C.resizeSensor||C.autoReinitialise||!_||clearInterval(_):_=setInterval(function(){ae(C)},C.autoReinitialiseDelay),C.resizeSensor&&!ie&&(le(S,re),le(T,re),le(T.parent(),re),window.addEventListener("resize",re),ie=!0),n&&T.scrollTop(0)&&we(n,!1),r&&T.scrollLeft(0)&&ye(r,!1),T.trigger("jsp-initialised",[Y||W])}function le(e,t){var o,s,i=document.createElement("div"),n=document.createElement("div"),r=document.createElement("div"),a=document.createElement("div"),l=document.createElement("div");i.style.cssText="position: absolute; left: 0; top: 0; right: 0; bottom: 0; overflow: scroll; z-index: -1; visibility: hidden;",n.style.cssText="position: absolute; left: 0; top: 0; right: 0; bottom: 0; overflow: scroll; z-index: -1; visibility: hidden;",a.style.cssText="position: absolute; left: 0; top: 0; right: 0; bottom: 0; overflow: scroll; z-index: -1; visibility: hidden;",r.style.cssText="position: absolute; left: 0; top: 0;",l.style.cssText="position: absolute; left: 0; top: 0; width: 200%; height: 200%;";function c(){r.style.width=n.offsetWidth+10+"px",r.style.height=n.offsetHeight+10+"px",n.scrollLeft=n.scrollWidth,n.scrollTop=n.scrollHeight,a.scrollLeft=a.scrollWidth,a.scrollTop=a.scrollHeight,o=e.width(),s=e.height()}n.addEventListener("scroll",function(){(e.width()>o||e.height()>s)&&t.apply(this,[]),c()}.bind(this)),a.addEventListener("scroll",function(){(e.width()<o||e.height()<s)&&t.apply(this,[]),c()}.bind(this)),n.appendChild(r),a.appendChild(l),i.appendChild(n),i.appendChild(a),e.append(i),"static"===window.getComputedStyle(e[0],null).getPropertyValue("position")&&(e[0].style.position="relative"),c()}function ce(){V.height(q+"px"),L=0,t=C.verticalGutter+V.outerWidth(),S.width(x-t-te);try{0===F.position().left&&S.css("margin-left",t+"px")}catch(e){}}function pe(){B.find(">.jspHorizontalBar>.jspCap:visible,>.jspHorizontalBar>.jspArrow").each(function(){U-=Se(this).outerWidth()}),Q.width(U+"px"),I=0}function ue(e,t,o,s){var i,n="before",r="after";"os"==t&&(t=/Mac/.test(navigator.platform)?"after":"split"),t==n?r=t:t==r&&(n=t,i=o,o=s,s=i),e[n](o)[r](s)}function de(e,t,o){return function(){return function(e,t,o,s){o=Se(o).addClass("jspActive");var i,n,r=!0,a=function(){0!==e&&se.scrollByX(e*C.arrowButtonSpeed),0!==t&&se.scrollByY(t*C.arrowButtonSpeed),n=setTimeout(a,r?C.initialDelay:C.arrowRepeatFreq),r=!1};a(),i=s?"mouseout.jsp":"mouseup.jsp",(s=s||Se("html")).on(i,function(){o.removeClass("jspActive"),n&&clearTimeout(n),n=null,s.off(i)})}(e,t,this,o),this.blur(),!1}}function fe(){Q&&Q.off("mousedown.jsp"),V&&V.off("mousedown.jsp")}function he(){Se("html").off("dragstart.jsp selectstart.jsp mousemove.jsp mouseup.jsp mouseleave.jsp"),M&&M.removeClass("jspActive"),R&&R.removeClass("jspActive")}function ge(e,t){if(W){e<0?e=0:X<e&&(e=X);var o=new Se.Event("jsp-will-scroll-y");if(T.trigger(o,[e]),!o.isDefaultPrevented()){var s=e||0,i=0===s,n=s==X,r=-e/X*(P-D);void 0===t&&(t=C.animateScroll),t?se.animate(M,"top",e,je,function(){T.trigger("jsp-user-scroll-y",[-r,i,n])}):(M.css("top",e),je(e),T.trigger("jsp-user-scroll-y",[-r,i,n]))}}}function je(e){void 0===e&&(e=M.position().top),B.scrollTop(0);var t,o=0===(L=e||0),s=L==X,i=-e/X*(P-D);n==o&&a==s||(n=o,a=s,T.trigger("jsp-arrow-change",[n,a,r,l])),t=s,C.showArrows&&(G[o?"addClass":"removeClass"]("jspDisabled"),N[t?"addClass":"removeClass"]("jspDisabled")),S.css("top",i),T.trigger("jsp-scroll-y",[-i,o,s]).trigger("scroll")}function ve(e,t){if(Y){e<0?e=0:E<e&&(e=E);var o=new Se.Event("jsp-will-scroll-x");if(T.trigger(o,[e]),!o.isDefaultPrevented()){var s=e||0,i=0===s,n=s==E,r=-e/E*(H-x);void 0===t&&(t=C.animateScroll),t?se.animate(R,"left",e,me,function(){T.trigger("jsp-user-scroll-x",[-r,i,n])}):(R.css("left",e),me(e),T.trigger("jsp-user-scroll-x",[-r,i,n]))}}}function me(e){void 0===e&&(e=R.position().left),B.scrollTop(0);var t,o=0===(I=e||0),s=I==E,i=-e/E*(H-x);r==o&&l==s||(r=o,l=s,T.trigger("jsp-arrow-change",[n,a,r,l])),t=s,C.showArrows&&(J[o?"addClass":"removeClass"]("jspDisabled"),Z[t?"addClass":"removeClass"]("jspDisabled")),S.css("left",i),T.trigger("jsp-scroll-x",[-i,o,s]).trigger("scroll")}function we(e,t){ge(e/(P-D)*X,t)}function ye(e,t){ve(e/(H-x)*E,t)}function be(e,t,o){var s,i,n,r,a,l,c,p,u,d=0,f=0;try{s=Se(e)}catch(e){return}for(i=s.outerHeight(),n=s.outerWidth(),B.scrollTop(0),B.scrollLeft(0);!s.is(".jspPane");)if(d+=s.position().top,f+=s.position().left,s=s.offsetParent(),/^body|html$/i.test(s[0].nodeName))return;l=(r=Te())+D,d<r||t?p=d-C.horizontalGutter:l<d+i&&(p=d-D+i+C.horizontalGutter),isNaN(p)||we(p,o),c=(a=ke())+x,f<a||t?u=f-C.horizontalGutter:c<f+n&&(u=f-x+n+C.horizontalGutter),isNaN(u)||ye(u,o)}function ke(){return-S.position().left}function Te(){return-S.position().top}function Ce(){return!1}te="border-box"===T.css("box-sizing")?ee=0:(ee=T.css("paddingTop")+" "+T.css("paddingRight")+" "+T.css("paddingBottom")+" "+T.css("paddingLeft"),(parseInt(T.css("paddingLeft"),10)||0)+(parseInt(T.css("paddingRight"),10)||0)),Se.extend(se,{reinitialise:function(e){ae(e=Se.extend({},C,e))},scrollToElement:function(e,t,o){be(e,t,o)},scrollTo:function(e,t,o){ye(e,o),we(t,o)},scrollToX:function(e,t){ye(e,t)},scrollToY:function(e,t){we(e,t)},scrollToPercentX:function(e,t){ye(e*(H-x),t)},scrollToPercentY:function(e,t){we(e*(P-D),t)},scrollBy:function(e,t,o){se.scrollByX(e,o),se.scrollByY(t,o)},scrollByX:function(e,t){ve((ke()+Math[e<0?"floor":"ceil"](e))/(H-x)*E,t)},scrollByY:function(e,t){ge((Te()+Math[e<0?"floor":"ceil"](e))/(P-D)*X,t)},positionDragX:function(e,t){ve(e,t)},positionDragY:function(e,t){ge(e,t)},animate:function(e,t,o,s,i){var n={};n[t]=o,e.animate(n,{duration:C.animateDuration,easing:C.animateEase,queue:!1,step:s,complete:i})},getContentPositionX:function(){return ke()},getContentPositionY:function(){return Te()},getContentWidth:function(){return H},getContentHeight:function(){return P},getPercentScrolledX:function(){return ke()/(H-x)},getPercentScrolledY:function(){return Te()/(P-D)},getIsScrollableH:function(){return Y},getIsScrollableV:function(){return W},getContentPane:function(){return S},scrollToBottom:function(e){ge(X,e)},hijackInternalLinks:Se.noop,destroy:function(){var e,t;e=Te(),t=ke(),T.removeClass("jspScrollable").off(".jsp"),S.off(".jsp"),T.replaceWith(o.append(S.children())),o.scrollTop(e),o.scrollLeft(t),_&&clearInterval(_)}}),ae(e)}return o=Se.extend({},Se.fn.jScrollPane.defaults,o),Se.each(["arrowButtonSpeed","trackClickSpeed","keyboardSpeed"],function(){o[this]=o[this]||o.speed}),this.each(function(){var e=Se(this),t=e.data("jsp");t?t.reinitialise(o):(Se("script",e).filter('[type="text/javascript"],:not([type])').remove(),t=new s(e,o),e.data("jsp",t))})},Se.fn.jScrollPane.defaults={showArrows:!1,maintainPosition:!0,stickToBottom:!1,stickToRight:!1,clickOnTrack:!0,autoReinitialise:!1,autoReinitialiseDelay:500,verticalDragMinHeight:0,verticalDragMaxHeight:99999,horizontalDragMinWidth:0,horizontalDragMaxWidth:99999,contentWidth:void 0,animateScroll:!1,animateDuration:300,animateEase:"linear",hijackInternalLinks:!1,verticalGutter:4,horizontalGutter:4,mouseWheelSpeed:3,arrowButtonSpeed:0,arrowRepeatFreq:50,arrowScrollOnHover:!1,trackClickSpeed:0,trackClickRepeatFreq:70,verticalArrowPositions:"split",horizontalArrowPositions:"split",enableKeyboardNavigation:!0,hideFocus:!1,keyboardSpeed:0,initialDelay:300,speed:30,scrollPagePercent:.8,alwaysShowVScroll:!1,alwaysShowHScroll:!1,resizeSensor:!1,resizeSensorDelay:0}});
//# sourceMappingURL=jquery.jscrollpane.min.min.js.map
